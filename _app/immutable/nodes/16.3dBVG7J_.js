import{s as U,e as b,a as g,c as m,b as S,g as w,f as p,J as j,o as d,i as x,h as v,x as O,n as k,D as E,t as I,d as L,j as N}from"../chunks/scheduler.BX8YVY3S.js";import{S as z,i as B}from"../chunks/index.CpUgF7Al.js";function D(c){let t,s="Загрузить",e,a=c[1][0].name+"",l,i,h;return{c(){t=b("button"),t.textContent=s,e=g(),l=I(a),this.h()},l(n){t=m(n,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1uxkx8f"&&(t.textContent=s),e=w(n),l=L(n,a),this.h()},h(){d(t,"class","button")},m(n,o){x(n,t,o),x(n,e,o),x(n,l,o),i||(h=O(t,"click",c[3]),i=!0)},p(n,o){o&2&&a!==(a=n[1][0].name+"")&&N(l,a)},d(n){n&&(p(t),p(e),p(l)),i=!1,h()}}}function J(c){let t,s="Выбрать файл профиля";return{c(){t=b("div"),t.textContent=s,this.h()},l(e){t=m(e,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1exv0j6"&&(t.textContent=s),this.h()},h(){d(t,"class","button")},m(e,a){x(e,t,a)},p:k,d(e){e&&p(t)}}}function T(c){let t,s,e,a,l,i,h="Скачать файл профиля",n,o;function y(u,f){return u[1]?D:J}let _=y(c),r=_(c);return{c(){t=b("div"),s=b("label"),e=b("input"),a=g(),r.c(),l=g(),i=b("a"),i.textContent=h,this.h()},l(u){t=m(u,"DIV",{class:!0});var f=S(t);s=m(f,"LABEL",{class:!0});var C=S(s);e=m(C,"INPUT",{type:!0,accept:!0,class:!0}),a=w(C),r.l(C),C.forEach(p),l=w(f),i=m(f,"A",{class:!0,href:!0,"data-svelte-h":!0}),j(i)!=="svelte-oyfjox"&&(i.textContent=h),f.forEach(p),this.h()},h(){d(e,"type","file"),d(e,"accept",".json"),d(e,"class","svelte-x66zwb"),d(s,"class","svelte-x66zwb"),d(i,"class","button"),d(i,"href","#"),d(t,"class","profile svelte-x66zwb")},m(u,f){x(u,t,f),v(t,s),v(s,e),v(s,a),r.m(s,null),v(t,l),v(t,i),c[5](i),n||(o=O(e,"change",c[4]),n=!0)},p(u,[f]){_===(_=y(u))&&r?r.p(u,f):(r.d(1),r=_(u),r&&(r.c(),r.m(s,null)))},i:k,o:k,d(u){u&&p(t),r.d(),c[5](null),n=!1,o()}}}function A(c,t,s){let e,a,l;async function i(){if(e[0]){const o=JSON.parse(await e[0].text());Object.entries(o).forEach(([y,_])=>{localStorage.setItem(y,_)})}}function h(){e=this.files,a=this.value,s(1,e),s(2,a)}function n(o){E[o?"unshift":"push"](()=>{l=o,s(0,l)})}return c.$$.update=()=>{if(c.$$.dirty&1&&l){const o=new Blob([JSON.stringify({...localStorage})]);s(0,l.href=window.URL.createObjectURL(o),l),s(0,l.download="profile.json",l)}},[l,e,a,i,h,n]}class V extends z{constructor(t){super(),B(this,t,A,T,U,{})}}export{V as component};
